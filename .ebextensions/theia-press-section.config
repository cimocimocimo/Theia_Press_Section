packages:
  yum:
    git: []
  rubygems:
    sass: []
    
container_commands:
  # debugging commands

  # 01_check_path:
  #   command: "echo $PATH > /tmp/command-path"

  # 02_view_env:
  #   command: "printenv > /tmp/command-env"

  # 03_whoami:
  #   command: "whoami > /tmp/whoiam"

  10_migrate:
    command: "python manage.py migrate --noinput"
    leader_only: true

  20_create_admin:
    command: "python scripts/create_admin.py"
    leader_only: true

  30_collectstatic:
    command: "python manage.py collectstatic --noinput"

  40_compress:
    command: "source scripts/compress.sh"

option_settings:
  - namespace: aws:elasticbeanstalk:container:python
    option_name: WSGIPath
    value: press_section/wsgi.py
  - namespace: aws:elasticbeanstalk:container:python:staticfiles
    option_name: /static/
    value: static/
  - option_name: DJANGO_SETTINGS_MODULE
    value: press_section.settings